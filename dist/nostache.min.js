!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Nostache=t()}(this,(function(){"use strict";function e(e,t,o,n){return new(o||(o=Promise))((function(r,c){function s(e){try{f(n.next(e))}catch(e){c(e)}}function i(e){try{f(n.throw(e))}catch(e){c(e)}}function f(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(s,i)}f((n=n.apply(e,t||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;const t={},o=n=>{var r;const c=null!==(r=t[n])&&void 0!==r?r:t[n]=(e=>{const t=e=>{if(e.length>1){const t={};for(let o=0;o<e.length;o++)t[e.charCodeAt(o)]=!0;return t}return e.charCodeAt(0)},o=t(" \t\r\n"),n=t("<"),r=t(">"),c=t("{"),s=t("}"),i=t("="),f=t("\\"),l=t("`");let a=0,u=0;const d=e.length;let h="";const p=(t=a,o="")=>{(t>u||o)&&(h+=`yield \`${e.slice(u,t)}${o}\`;\n`)},y=()=>{a>u&&(h+=`${e.slice(u,a)}`)},g=t=>t===n&&e.charCodeAt(a+1)===c?(p(),a+=2,A(),!0):t===i&&e.charCodeAt(a+1)===c?(p(),a+=2,C(),!0):t===f?(p(a,"\\\\"),a++,u=a,!0):t===l?(p(a,"\\`"),a++,u=a,!0):(t===n||t===i)&&e.charCodeAt(a+1)===t&&e.charCodeAt(a+2)===c&&(a++,p(),a++,u=a,!0),A=()=>{u=a;let t=!0;for(;a<d;){const i=e.charCodeAt(a);if(i===c)a++,t=!0;else if(t&&o[i])a++;else if(t&&i===n)t=!1,y(),v();else{if(i===s&&e.charCodeAt(a+1)===r){y(),a+=2;break}a++,t=!1}}u=a},v=()=>{u=a;let t=-1;for(;a<d;){const n=e.charCodeAt(a);if(n===r)a++,t=a;else if(t>=0&&o[n])a++;else{if(t>=0&&n===s){p(t);break}g(n)||(a++,t=-1)}}u=a},C=()=>{u=a;let t=!1;for(;a<d;){const n=e.charCodeAt(a);if(n===s&&e.charCodeAt(a+1)===i){t&&a>u&&(h+=`yield ${e.slice(u,a)};\n`),a+=2;break}o[n]?a++:(a++,t=!0)}u=a};for(;a<d;){const t=e.charCodeAt(a);g(t)||a++}return p(),`return(async function*(){\n${h}}).call(this)`})(n),s=(...t)=>e(void 0,void 0,void 0,(function*(){const e=[],o=[];for(const n of t)if(n&&"object"==typeof n&&!Array.isArray(n))for(const t in n)/^[_a-z]\w*$/i.test(t)&&(e.push(t),o.push(n[t]));try{s.verbose&&(console.groupCollapsed(`(function Nostache(${e.join(", ")}) {`),console.log(`${c}})\n(`,...o.reduce(((e,t)=>(e.length>0&&e.push(","),e.push("string"==typeof t?`"${t}"`:t),e)),[]),")"),console.groupEnd());const n=(...e)=>s(...e);for(let e=0;e<t.length;e++)n[e]=t[e];const r=Function(...e,c).apply(n,o);let i="";for(;;){const e=yield r.next();if(e.done)break;i+=e.value}return i}catch(t){throw t.message+=`\nat function (${e.join(", ")}) {\n${c}\n})(${o.map((e=>"string"==typeof e?`"${e}"`:e)).join(", ")})`,t}}));return s.verbose=o.verbose,s.toString=()=>c,s};return o.verbose=!1,o}));//# sourceMappingURL=nostache.min.js.map
