!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(n="undefined"!=typeof globalThis?globalThis:n||self).Nostache=e()}(this,(function(){"use strict";function n(n,e,t,o){return new(t||(t=Promise))((function(r,c){function i(n){try{s(o.next(n))}catch(n){c(n)}}function f(n){try{s(o.throw(n))}catch(n){c(n)}}function s(n){var e;n.done?r(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(i,f)}s((o=o.apply(n,e||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;const e={};function t(n){function e(n){if(n.length>1){const e={};for(let t=0;t<n.length;t++)e[n.charCodeAt(t)]=!0;return e}return n.charCodeAt(0)}const t=e(" \t\r\n"),o=e("<"),r=e(">"),c=e("{"),i=e("}"),f=e("="),s=e("\\"),u=e("`");let l=0,a=0;const d=n.length;let h="";function p(e=l,t=""){(e>a||t)&&(h+=`yield \`${n.slice(a,e)}${t}\`;\n`)}function y(){l>a&&(h+=`yield ${n.slice(a,l)};\n`)}function A(){l>a&&(h+=`${n.slice(a,l)}`)}function C(e){return e===o&&n.charCodeAt(l+1)===c?(p(),l+=2,function(){a=l;let e=!0;for(;l<d;){const f=n.charCodeAt(l);if(f===c)l++,e=!0;else if(e&&t[f])l++;else if(e&&f===o)e=!1,A(),$();else{if(f===i&&n.charCodeAt(l+1)===r){A(),l+=2;break}l++,e=!1}}a=l}(),!0):e===f&&n.charCodeAt(l+1)===c?(p(),l+=2,function(){a=l;let e=!1;for(;l<d;){const o=n.charCodeAt(l);if(o===i&&n.charCodeAt(l+1)===f){e&&y(),l+=2;break}t[o]?l++:(l++,e=!0)}a=l}(),!0):e===s?(p(l,"\\\\"),l++,a=l,!0):e===u?(p(l,"\\`"),l++,a=l,!0):(e===o||e===f)&&n.charCodeAt(l+1)===e&&n.charCodeAt(l+2)===c&&(l++,p(),l++,a=l,!0)}function $(){a=l;let e=-1;for(;l<d;){const o=n.charCodeAt(l);if(o===r)l++,e=l;else if(e>=0&&t[o])l++;else{if(e>=0&&o===i){p(e);break}C(o)||(l++,e=-1)}}a=l}for(;l<d;){C(n.charCodeAt(l))||l++}return p(),`return(async function*(){\n${h}}).call(this)`}function o(r){var c;const i=null!==(c=e[r])&&void 0!==c?c:e[r]=t(r);function f(e){return n(this,void 0,void 0,(function*(){const n=[],t=[];if(e&&"object"==typeof e&&!Array.isArray(e))for(const o in e)/^[_a-z]\w*$/i.test(o)&&(n.push(o),t.push(e[o]));try{f.verbose&&(console.groupCollapsed(`(function Nostache(${n.join(", ")}) {`),console.log(`${i}})\n(`,...t.reduce(((n,e)=>(n.length>0&&n.push(","),n.push("string"==typeof e?`"${e}"`:e),n)),[]),")"),console.groupEnd());const o=function(n){return f(n)};o.context=e;const r=Function(...n,i).apply(o,t);let c="";for(;;){const n=yield r.next();if(n.done)break;c+=n.value}return c}catch(e){throw e.message+=`\nat function (${n.join(", ")}) {\n${i}\n})(${t.map((n=>"string"==typeof n?`"${n}"`:n)).join(", ")})`,e}}))}return f.verbose=o.verbose,f}return o.verbose=!1,o}));//# sourceMappingURL=nostache.min.js.map
