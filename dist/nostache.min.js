!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Nostache=t()}(this,(function(){"use strict";const e={};function t(e){function t(e){if(e.length>1){const t={};for(let o=0;o<e.length;o++)t[e.charCodeAt(o)]=!0;return t}return e.charCodeAt(0)}const o=t(" \t\r\n"),n=t("<"),c=t(">"),i=t("{"),r=t("}"),s=t(";"),f=t("="),u=t("\\"),l=t("'"),a=t("\n"),h=t("\r");let d=0,p=0;const A=e.length;let C="";function y(t=d,o=""){(t>p||o)&&(C+=`yield '${e.slice(p,t)}${o}';\n`)}function $(){d>p&&(C+=`yield ${e.slice(p,d)};\n`)}function b(){d>p&&(C+=`${e.slice(p,d)}`)}function g(t){return t===n&&e.charCodeAt(d+1)===i?(y(),d+=2,function(){p=d;let t=!0;for(;d<A;){const s=e.charCodeAt(d);if(s===i)d++,t=!0;else if(t&&o[s])d++;else if(t&&s===n)t=!1,b(),m();else{if(s===r&&e.charCodeAt(d+1)===c){b(),d+=2;break}d++,t=!1}}p=d}(),!0):t===f&&e.charCodeAt(d+1)===i?(y(),d+=2,function(){p=d;let t=!1;for(;d<A;){const n=e.charCodeAt(d);if(n===r&&e.charCodeAt(d+1)===c){t&&$(),d+=2;break}o[n]?d++:(d++,t=!0)}p=d}(),!0):t===n&&e.charCodeAt(d+1)===s&&e.charCodeAt(d+2)===c?(y(),d++,p=d,d++,b(),d++,p=d,!0):t===a?(y(d,"\\n"),d++,p=d,!0):t===h&&e.charCodeAt(d+1)===a?(y(d,"\\n"),d+=2,p=d,!0):t===u?(y(d,"\\\\"),d++,p=d,!0):t===l?(y(d,"\\'"),d++,p=d,!0):(t===n||t===f)&&e.charCodeAt(d+1)===t&&e.charCodeAt(d+2)===i&&(d++,y(),d++,p=d,!0)}function m(){p=d;let t=-1;for(;d<A;){const n=e.charCodeAt(d);if(n===c)d++,t=d;else if(t>=0&&o[n])d++;else{if(t>=0&&n===r){y(t);break}g(n)||(d++,t=-1)}}p=d}for(;d<A;){g(e.charCodeAt(d))||d++}return y(),`return new Promise(() => [...(function*(){\n${C}}).call(this)].join(""))`}function o(n){var c;const i=null!==(c=e[n])&&void 0!==c?c:e[n]=t(n);function r(e){const t=[],o=[];if(r.contextDecomposition&&e&&"object"==typeof e&&!Array.isArray(e))for(const n in e)/^[_a-z]\w*$/i.test(n)&&(t.push(n),o.push(e[n]));try{return r.verbose&&console.log(`(function Nostache(${t.join(", ")}) {\n${i}\n})(`,...o.reduce(((e,t)=>(e.length>0&&e.push(","),e.push("string"==typeof t?`"${t}"`:t),e)),[]),")"),Function(...t,i).apply(e,o)}catch(e){throw e.message+=`\nat (function (${t.join(", ")}) {\n${i}\n})(${o.map((e=>"string"==typeof e?`"${e}"`:e)).join(", ")})`,e}}return r.verbose=o.verbose,r.contextDecomposition=o.contextDecomposition,r}return o.verbose=!1,o.contextDecomposition=!0,o}));//# sourceMappingURL=nostache.min.js.map
