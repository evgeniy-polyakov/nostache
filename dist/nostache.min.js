// nostache.js@1.2.2
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Nostache=t()}(this,(function(){"use strict";const e="async",t="import",n="function",o=e=>"string"==typeof e,i=e=>typeof e===n,r=e=>{if(e&&i(e.next)){let t="";const n=()=>new Promise((t=>t(e.next()))).then((e=>{const o=e.value,i=e.done;if(i&&void 0===o)return t;const s=r(o).then((e=>t+=e));return i?s:s.then(n)}));return n().then((()=>t))}return new Promise((t=>t(e)))},s=Function("try{return this===window;}catch(e){}")(),c=(l,f)=>{f=Object.assign(Object.assign({},c.options),f);const u=Object.assign(Object.assign({},c.options?c.options.extensions:void 0),f?f.extensions:void 0),a=f.cache,d=void 0===a||!0===a,h=d||a===t,p=d||a===n,$=e=>r(e).then(i(f.escape)?f.escape:e=>null==e?"":String(e).replace(/[&<>"']/g,(e=>`&#${e.charCodeAt(0)};`))),g=e=>(...o)=>c(new Promise((t=>t(e))).then((e=>new Promise(((o,r)=>{e=String(e);const l=h?c.cache.get(e,t):void 0;if(void 0!==l)o(l);else{const t=t=>{h&&c.cache.set(e,t),o(t)};try{const o=f.import;i(o)?new Promise((t=>t(o(e)))).then(t):s?fetch(e).then((e=>200===e.status?e.text().then(t):r(new Error(`${e.status} ${e.url}`)))):typeof require===n?require("fs").readFile(e,"utf8",((e,n)=>e?r(e):t(n))):import("fs").then((n=>n.readFile(e,"utf8",((e,n)=>e?r(e):t(n)))))}catch(e){r(e)}}})))),f)(...o),b=(...t)=>new Promise((e=>e(l))).then((i=>{const s=f.async?e:void 0;let l=p?c.cache.get(i,s):void 0;const a=l?l.toString():((e,t)=>{const o=e=>32===e||9===e||13===e||10===e,i=e=>95===e||e>=97&&e<=122||e>=65&&e<=90,r=e=>i(e)||e>=48&&e<=57,s=t.async?"async ":"",c=t=>e.charCodeAt(t);let l=0,f=0;const u=e.length;let a="";const d=(t=l,n="")=>{(t>f||n)&&(a+=`yield \`${e.slice(f,t)}${n}\`;\n`)},h=t=>{l>f&&(a+=t?`yield (${e.slice(f,l)});\n`:`yield this.escape(${e.slice(f,l)});\n`)},p=()=>{l>f&&(a+=`${e.slice(f,l)}\n`)},$=t=>{throw new SyntaxError(`Expected end of ${t} at\n${e}`)},g=()=>$("declaration block @}"),b=e=>{const t=c(l+1);return 60===e&&123===t?(d(),l+=2,y(),!0):123===e&&61===t?(d(),l+=2,k(!1),!0):123===e&&126===t?(d(),l+=2,k(!0),!0):123===e&&64===t?(d(),l+=2,x(),!0):92===e?(d(l,"\\\\"),l++,f=l,!0):96===e?(d(l,"\\`"),l++,f=l,!0):36===e&&(d(l,"\\$"),l++,f=l,!0)},y=()=>{f=l;let e=!1;for(;l<u;){if(w())continue;const t=c(l);if(123===t){l++;const t=c(l);61===t||126===t?(e=!1,p(),l++,k(126===t),f--):64===t?(e=!1,l--,p(),l+=2,x()):e=!0}else if(e&&o(t))l++;else if(e&&60===t)e=!1,p(),m();else if(e&&62===t)e=!1,p(),l++,v();else{if(125===t&&62===c(l+1))return p(),l+=2,void(f=l);l++,e=!1}}$("logic block }>")},m=()=>{f=l;let e=-1;for(;l<u;){const t=c(l);if(b(t))e=-1;else if(62===t)l++,e=l;else if(e>=0&&o(t))l++;else if(e>=0&&w(!0));else{if(e>=0&&125===t)return d(e),void(f=l);l++,e=-1}}$("html block >}")},v=()=>{f=l;let e=-1;for(;l<u;){const t=c(l);if(b(t))e=-1;else if(60===t)e=l,l++;else if(e>=0&&o(t))l++;else{if(e>=0&&125===t)return d(e),void(f=l);l++,e=-1}}$("text block <}")},k=t=>{f=l;const n=t?126:61;let i=!1,r=!1;for(;l<u;){const s=w();if(1===s){i=!0;continue}2!==s||i||(r=!0,f=l);const u=c(l);if(!i&&o(u))l++;else{if(u===n&&125===c(l+1))return i?h(t):r||(a+=`yield \`${e.slice(f,l)}\`;`),l+=2,void(f=l);l++,i=!0}}$("output block "+(t?"~}":"=}"))},w=(e=!1)=>{let t=0,n=0,o=0;for(;l<u;){const i=c(l);let r=0;if(e||t||n||39!==i&&34!==i&&96!==i)if(t&&92===i)l+=2;else{if(t&&i===t)return l++,1;if(t||n||47!==i||47!==(r=c(l+1))&&42!==r){if(47===n&&10===i)return l++,2;if(42===n&&42===i&&47===c(l+1))return l+=2,2;if(!n&&!t)return 0;l++}else n=r,l+=2,o=2}else t=i,l++,o=1}return o&&t&&$(`string ${String.fromCharCode(t)}`),o&&42===n&&$("comment */"),o},x=()=>{f=l;let t=0,n=!1,o="";for(;l<u;){let s=c(l);if(t){if(!n||!r(s)){if(n&&!r(s)){if(o=e.slice(f,l),s=C(),w(!0)&&(s=C()),40===s){l++,P(o);break}if(44===s||64===s&&125===c(l+1)){S();break}f=l,j(o);break}j();break}l++}else{if(s=C(),w(!0)&&(s=C()),f=l,t=s,40===s){l++,P();break}if(!i(t)){if(64===s&&125===c(l+1))return l+=2,void(f=l);if(123===s||91===s||46===s||44===s){S();break}j();break}l++,n=!0}}C(),f=l},S=()=>{for(;l<u;)if(w(!0));else{if(64===c(l)&&125===c(l+1)&&l>f)return a+=`let[${e.slice(f,l)}]=this;\n`,void(l+=2);l++}g()},j=t=>{for(;l<u;)if(w(!0));else{if(64===c(l)&&125===c(l+1)&&l>f)return t&&(a+=`let ${t}=`),a+=`this.import(${e.slice(f,l)})\n`,void(l+=2);l++}g()},P=t=>{f=l;let i="",r=0;for(;l<u;){const t=c(l);if(40===t)r++;else if(41===t){if(!r){i=e.slice(f,l),l++,C(),f=l;break}r--,l++}else l++}const h=a;let p=-1;for(a="";l<u;){const e=c(l);if(o(e))p=l,C();else{if(64===e&&125===c(l+1)){d(p>-1?p:l);const e=a;return a=h,t&&(a+=`let ${t}=`),a+=`(${s}${n}*(${i}){${e}}.bind(this))\n`,void(l+=2)}b(e)||l++}}g()},C=()=>{let e=c(l);for(;l<u&&o(e);)l++,e=c(l);return e};for(;l<u;){const e=c(l);b(e)||l++}return d(),`return(${s}${n}*(){\n${a}}).call(this)`})(i,f);b.toString=()=>`${n} () {\n${a}\n}`;try{l||(l=Function(a),l.toString=()=>a,p&&c.cache.set(i,l,s)),f.verbose&&(console.groupCollapsed(`(${n} () {`),console.log(`${a}})\n(`,...t.reduce(((e,t)=>(e.length>0&&e.push(","),e.push(o(t)?`"${t}"`:t),e)),[]),")"),console.groupEnd());const e=(...e)=>b(...e);e[Symbol.iterator]=function*(){yield*t};for(let n=0;n<t.length;n++)e[n]=t[n];e.import=g,e.escape=$;for(const t in u)e[t]=u[t];return r(l.apply(e))}catch(e){throw e.message+=`\nat ${n} () {\n${a}\n})(${t.map((e=>o(e)?`"${e}"`:e)).join(", ")})`,e}}));return b};return c.options={},c.cache=(()=>{const i={[t]:{},[e]:{},[n]:{}};return{get:(e,t)=>i[t||n][e],set(e,r,s){i[o(r)?t:s||n][e]=r},delete(e,t){delete i[t||n][e]},clear(o){o?i[o]={}:(i[t]={},i[e]={},i[n]={})}}})(),c}));//# sourceMappingURL=nostache.min.js.map
